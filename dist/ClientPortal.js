var PerfectGym=function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";function r(){if(!i){i=document.createElement("DIV"),i.classList.add("cp-load-mask"),i.innerHTML="<svg class='cp-load-mask-spinner'\n        width='65px'\n        height='65px' viewBox='0 0 66 66' xmlns='http://www.w3.org/2000/svg'>\n    <circle fill='none' stroke-width='6' stroke-linecap='round' cx='33' cy='33' r='30'></circle>\n    </svg>",document.body.appendChild(i)}}function n(){i.classList.add("is-visible")}function a(){i.classList.remove("is-visible")}Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"ClientPortal",function(){return d});var i,s=o(1),l=(o.n(s),window.iFrameResize),d=function(){function e(e,t){var o=this;if(this._elementWrapperSelector="cp-iframe-wrapper",this._modalOverlaySelector="cp-modal-overlay",this._promiseResolveMap={},this._wasConnectedBefore=!1,!t||!t.url)throw new Error("url is not defined");this._createIframe(e,t),window.addEventListener("message",function(e){if(e.data){var r;try{r=JSON.parse(e.data)}catch(e){return}r.isResponse?o._onResponse(r):o._onMessage(r,t,e)}}),t.hideLoadMask||(r(),t.hideInitLoadMask||n());l({checkOrigin:!1,warningTimeout:15e3},this._element)}return e.prototype._onMessage=function(e,t,o){var r=this.recieveMsg(e,t),n=JSON.stringify({id:e.id,isResponse:!0,data:r,action:e.action});e.action&&e.id&&o.source.postMessage(n,o.origin)},e.prototype._onResponse=function(e){if(!this._promiseResolveMap[e.id])throw new Error("No callback was specified");this._promiseResolveMap[e.id](e.data),delete this._promiseResolveMap[e.id]},e.prototype._getIframeTopOffset=function(){for(var e=this._element,t=e.offsetTop,o=e.offsetParent;e;){if(e.clientHeight!==e.scrollHeight){var r=getComputedStyle(e);if("auto"===r.overflow||"auto"===r.overflowY)return t-e.offsetTop}e===o&&(t+=e.offsetTop,o=e.offsetParent),e=e.parentElement}return t},e.prototype._getViewport=function(e){var t=this._element.getBoundingClientRect();return{navbarHeight:this._getIframeTopOffset(),top:t.top+window.scrollY,bottom:t.bottom,windowHeight:window.innerHeight,scrollTop:window.scrollY}},e.prototype.recieveMsg=function(e,t){var o,r=e.action,i=e.data;switch(r){case"child-connected":this._sendData("parent-connected"),this._wasConnectedBefore||(this.goTo(t.defaultState||"Profile",t.defaultStateParams),this._wasConnectedBefore=!0),t.onConnect&&t.onConnect();break;case"showLoadMask":t.hideLoadMask||n(),t.onShowLoadMask&&t.onShowLoadMask();break;case"hideLoadMask":t.hideLoadMask||a(),t.onHideLoadMask&&t.onHideLoadMask();break;case"showModalOverlay":t.hideModalOverlay||this._showModalOverlay(),t.onShowModal&&t.onShowModal(),o=this._getViewport(t);break;case"hideModalOverlay":t.hideModalOverlay||this._hideModalOverlay(),t.onHideModal&&t.onHideModal();break;case"userLoggedIn":t.onUserLoggedIn&&t.onUserLoggedIn(i);break;case"userLoggedOut":t.onUserLoggedOut&&t.onUserLoggedOut(i);break;case"stateChangeSuccess":var s=this._getIframeTopOffset();if((document.body.scrollTop>s||document.documentElement.scrollTop>s)&&window.scroll({top:s,left:0,behavior:"smooth"}),!t.enableVirtualStates&&i.isVirtual)break;t.onStateChangeSuccess&&t.onStateChangeSuccess(i);break;case"mobileDropdownOpen":t.onMobileDropdownOpen&&t.onMobileDropdownOpen(),o=this._getViewport(t);break;case"mobileDropdownClose":t.onMobileDropdownClose&&t.onMobileDropdownClose();break;case"scrollWindow":t.onContentScroll?t.onContentScroll(i+this._getIframeTopOffset()):window.scroll({top:i+this._getIframeTopOffset(),left:0,behavior:"smooth"})}return o},e.prototype._createModalOverlay=function(){var e=document.createElement("DIV");return e.classList.add(this._modalOverlaySelector),e},e.prototype._showModalOverlay=function(){var e=this._element.getBoundingClientRect(),t=document.body.getBoundingClientRect(),o=this._createModalOverlay();o.style.top="-1000px",o.style.height="1000px";var r=this._createModalOverlay(),n=t.bottom-e.bottom;r.style.bottom=-1*(n-4)+"px",r.style.height=n+"px",this._elementWrapper&&(this._elementWrapper.appendChild(o),this._elementWrapper.appendChild(r))},e.prototype._hideModalOverlay=function(){for(var e=document.getElementsByClassName(this._elementWrapperSelector)[0],t=document.getElementsByClassName(this._modalOverlaySelector),o=t.length,r=0;r<o;r+=1)e.removeChild(t[0])},e.prototype._createIframe=function(e,t){var o=document.createElement("iframe"),r=t&&t.language?"&lang="+t.language:"",n=window.innerWidth<500||window.innerHeight<500,a=n?"?mode=mobile":"?mode=desktop",i=t.url;i="/"===i[i.length-1]?i:i+"/";var s=t.defaultState||"Profile",l="?"+this._serializeParams(t.defaultStateParams)||"";o.src=i+a+r+"#/"+s+l,o.style.width="100%",o.style.border="none",e.appendChild(o),e.classList.add(this._elementWrapperSelector),this._element=o,this._elementWrapper=e},e.prototype._serializeParams=function(e){var t="";for(var o in e)""!=t&&(t+="&"),t+=o+"="+encodeURIComponent(e[o]);return t},e.prototype._sendData=function(e,t){var o=this;return new Promise(function(r){for(var n=Math.round(999999*Math.random());o._promiseResolveMap[n];)n=Math.round(999999*Math.random());var a={isResponse:!1,action:e,data:t,id:n};o._element.contentWindow.postMessage(JSON.stringify(a),"*"),o._promiseResolveMap[n]=r})},e.prototype.goTo=function(e,t){var o={state:e,params:t};return this._sendData("goToState",o)},e.prototype.logout=function(){return this._sendData("logout")},e.prototype.changeLanguage=function(e){return this._sendData("changeLanguage",e)},e.prototype.isUserLoggedIn=function(){return this._sendData("isUserLogged")},e.prototype.getElement=function(){return this._element},e.State={Login:"Auth.Login",Registration:"Registration",Classes:"Classes",ClassesList:"Classes.List",PersonalTraining:"PersonalTraining",ReservedClasses:"MyCalendar.AllActivities",Products:"MyProducts",BuyProducts:"BuyProducts",Profile:"Profile",ProfileEdit:"Profile.Edit",ProfilePayment:"Profile.Payment",ProfileContract:"Profile.Contract",ProfileFreeze:"Profile.Freeze",ProfilePrepaid:"Profile.Prepaid",ProfileChangePassword:"Profile.ChangePassword",ProfilePayments:"Profile.Payments",ProfileFamily:"Profile.Family"},e}()},function(e,t){}]);